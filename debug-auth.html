<!DOCTYPE html>
<html>
<head>
    <title>Auth Debug</title>
</head>
<body>
    <h1>Auth Debug</h1>
    <div id="status">Loading...</div>
    <div id="logs"></div>
    
    <script>
        let logContainer = document.getElementById('logs');
        let statusDiv = document.getElementById('status');
        
        function addLog(message) {
            console.log(message);
            logContainer.innerHTML += '<div>' + new Date().toISOString() + ': ' + message + '</div>';
        }
        
        // Override console.log to capture all logs
        const originalLog = console.log;
        const originalError = console.error;
        
        console.log = function(...args) {
            originalLog.apply(console, args);
            addLog('LOG: ' + args.join(' '));
        };
        
        console.error = function(...args) {
            originalError.apply(console, args);
            addLog('ERROR: ' + args.join(' '));
        };
        
        addLog('Debug page loaded, checking auth state...');
        
        // Check if we can access the auth store
        setTimeout(() => {
            try {
                fetch('http://localhost:3003/login')
                    .then(response => response.text())
                    .then(html => {
                        addLog('Login page fetched successfully');
                        statusDiv.innerHTML = 'Login page accessible';
                    })
                    .catch(error => {
                        addLog('Error fetching login page: ' + error.message);
                        statusDiv.innerHTML = 'Error accessing login page';
                    });
            } catch (error) {
                addLog('Error in fetch: ' + error.message);
            }
        }, 1000);
    </script>
</body>
</html>